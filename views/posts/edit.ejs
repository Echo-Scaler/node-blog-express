<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Story - Byte & Beyond</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <header class="editor-header">
      <div style="display: flex; align-items: center; gap: 16px">
        <a
          href="/dashboard"
          class="logo"
          style="text-decoration: none; font-size: 18px"
          >Byte & Beyond</a
        >
        <div class="draft-status">
          <div class="draft-dot saved"></div>
          <span>Editing</span>
        </div>
      </div>
      <div style="display: flex; gap: 12px; align-items: center">
        <span
          id="user-info"
          style="
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-right: 12px;
          "
        ></span>
        <button
          type="submit"
          form="edit-post-form"
          class="btn btn-primary"
          style="padding: 8px 24px"
        >
          Save Changes
        </button>
      </div>
    </header>

    <main>
      <div class="editor-layout">
        <form id="edit-post-form">
          <input type="hidden" id="post-id" value="<%= postId %>" />
          
          <input
            type="text"
            id="title"
            name="title"
            placeholder="Title"
            class="editor-title"
            required
            maxlength="200"
          />

          <textarea
            id="content"
            name="content"
            placeholder="Tell your story..."
            class="editor-content"
            required
          ></textarea>

          <div class="editor-settings">
            <h2 style="font-size: 18px; margin-bottom: 24px; font-weight: 800">
              Story Settings
            </h2>

            <div class="form-group">
              <label class="editor-label">Category</label>
              <select
                id="categoryId"
                name="categoryId"
                class="form-control"
                required
                style="border-radius: 12px; padding: 14px"
              >
                <option value="">Select a category</option>
                <!-- Categories will be loaded dynamically -->
              </select>
            </div>

            <div class="form-group">
              <label class="editor-label">Tags</label>
              <input
                type="text"
                id="tags"
                name="tags"
                placeholder="Add some keywords..."
                class="form-control"
                style="border-radius: 12px; padding: 14px"
              />
            </div>

            <div class="form-group">
              <label class="editor-label">Short Preview</label>
              <textarea
                id="excerpt"
                name="excerpt"
                placeholder="What is this story about?"
                rows="3"
                maxlength="300"
                class="form-control"
                style="border-radius: 12px; padding: 14px; height: auto"
              ></textarea>
            </div>

            <div class="form-group">
               <label class="editor-label">Visibility</label>
               <select id="status" name="status" class="form-control" style="border-radius: 12px; padding: 14px">
                 <option value="published">Published</option>
                 <option value="draft">Draft</option>
                 <option value="hidden">Hidden</option>
               </select>
            </div>
          </div>
        </form>

        <div id="message" style="margin-top: 40px"></div>
      </div>
    </main>

    <script src="/js/auth.js"></script>
    <script src="/js/edit-post.js"></script>
  </body>
</html>

    <main>
      <div class="content-column" style="max-width: 800px">
        <form id="edit-post-form">
          <input type="hidden" id="post-id" value="<%= postId %>" />

          <div class="form-group">
            <input
              type="text"
              id="title"
              name="title"
              placeholder="Title"
              class="form-control-large"
              required
              maxlength="200"
            />
          </div>

          <div class="form-group">
            <textarea
              id="content"
              name="content"
              placeholder="Tell your story..."
              style="
                border: none;
                font-size: 20px;
                font-family: var(--font-serif);
                min-height: 400px;
                resize: none;
              "
              required
            ></textarea>
          </div>

          <div
            style="
              margin-top: 40px;
              border-top: 1px solid var(--border-light);
              padding-top: 20px;
            "
          >
            <div class="form-group">
              <label>Story Preview</label>
              <textarea
                id="excerpt"
                name="excerpt"
                placeholder="Write a short teaser (optional)"
                rows="2"
                maxlength="300"
                style="font-size: 14px; border-bottom: none"
              ></textarea>
            </div>
            <div class="form-group">
              <label>Tags</label>
              <input
                type="text"
                id="tags"
                name="tags"
                placeholder="Add a tag..."
                style="font-size: 14px; border-bottom: none"
              />
            </div>
            <div class="form-group" style="display: none">
              <select id="status" name="status">
                <option value="published">Published</option>
                <option value="draft">Draft</option>
                <option value="hidden">Hidden</option>
              </select>
            </div>
          </div>
        </form>

        <div id="message"></div>
      </div>
    </main>

    <script src="/js/auth.js"></script>
    <script src="/js/edit-post.js"></script>
  </body>
</html>
